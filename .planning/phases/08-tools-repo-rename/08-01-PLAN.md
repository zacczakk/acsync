---
phase: 08-tools-repo-rename
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - configs/instructions/TOOLS.md
  - configs/instructions/AGENTS.md
autonomous: true
requirements: [TOOL-01, TOOL-02, TOOL-03]

must_haves:
  truths:
    - "configs/instructions/TOOLS.md exists with tool documentation"
    - "AGENTS.md ## Tools section references TOOLS.md by absolute path"
    - "TOOLS.md is NOT in any rendering/sync pipeline — reference only"
  artifacts:
    - path: "configs/instructions/TOOLS.md"
      provides: "Canonical tool-use documentation"
      contains: "## MCP Servers"
    - path: "configs/instructions/AGENTS.md"
      provides: "Updated ## Tools section with TOOLS.md reference"
      contains: "~/Repos/acsync/configs/instructions/TOOLS.md"
  key_links:
    - from: "configs/instructions/AGENTS.md"
      to: "configs/instructions/TOOLS.md"
      via: "absolute path reference in ## Tools section"
      pattern: "Read.*TOOLS\\.md"
---

<objective>
Create canonical TOOLS.md and update AGENTS.md to reference it by absolute path.

Purpose: Extract tool-use documentation into a dedicated file so AGENTS.md stays lean while agents can still read full tool details on demand. TOOLS.md is reference-only — never rendered/synced to targets.
Output: `configs/instructions/TOOLS.md` + updated `## Tools` section in AGENTS.md
</objective>

<execution_context>
@/Users/m332023/.config/opencode/get-shit-done/workflows/execute-plan.md
@/Users/m332023/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@docs/tools.md
@configs/instructions/AGENTS.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create configs/instructions/TOOLS.md</name>
  <files>configs/instructions/TOOLS.md</files>
  <action>
Create `configs/instructions/TOOLS.md` with comprehensive tool documentation. Source content from `docs/tools.md` but expand it for agent consumption:

1. Read `docs/tools.md` for existing tool catalog
2. Read `configs/instructions/AGENTS.md` lines 162-199 for the current `## Tools` inline content
3. Create `configs/instructions/TOOLS.md` combining both sources into a comprehensive reference:
   - `# Tools` heading
   - `## acsync` — CLI usage, subcommands, source location (`~/Repos/acsync/src/cli/`), canonical configs at `~/Repos/acsync/configs/`
   - `## committer` — usage, examples
   - `## trash` — usage
   - `## generate-docs` — usage
   - `## browser-tools` — subcommands, rebuild command
   - `## gh` — GitHub CLI usage examples
   - `## tmux` — quick refs
   - `## mcporter` — usage, servers, config path
   - `## MCP Servers` — list from docs/tools.md
   - `## Common CLI` — git, rg, bun, node, python3
   - `## Evaluated (not adopted)` — oracle section from docs/tools.md

IMPORTANT: Use `~/Repos/acsync` (not `~/Repos/agents`) for all paths — Phase 8 renames the repo.

This file will NOT be rendered to any CLI target. It exists for agents to `Read` on demand.
  </action>
  <verify>
- File exists: `ls configs/instructions/TOOLS.md`
- Contains all tool sections: `grep -c "^## " configs/instructions/TOOLS.md` should return 10+
- Uses new repo path: `grep -c "~/Repos/acsync" configs/instructions/TOOLS.md` > 0
- Does NOT use old path: `grep -c "~/Repos/agents" configs/instructions/TOOLS.md` should return 0
  </verify>
  <done>configs/instructions/TOOLS.md exists with comprehensive tool documentation using ~/Repos/acsync paths</done>
</task>

<task type="auto">
  <name>Task 2: Update AGENTS.md ## Tools section to reference TOOLS.md</name>
  <files>configs/instructions/AGENTS.md</files>
  <action>
Replace the current `## Tools` section in `configs/instructions/AGENTS.md` (lines ~162-199+) with a slim reference:

```markdown
## Tools
Read `~/Repos/acsync/configs/instructions/TOOLS.md` for the full tool catalog.

Quick reference:
- `acsync` — Config sync CLI. `acsync check --pretty`, `acsync push --force --delete`.
- `committer` — Safe git commit: `committer "message" file1 file2 ...`
- `trash` — Move files to Trash: `trash <path>`
- `gh` — GitHub CLI for PRs/CI. `gh pr view`, `gh issue view`.
```

Keep it to ~10 lines max. Full details live in TOOLS.md.

Also fix the stale `configs/common/` reference if present (should be `configs/`).

IMPORTANT: Use `~/Repos/acsync` (not `~/Repos/agents`) for all new paths written. Leave other existing `~/Repos/agents` refs alone — Plan 02 does the global replacement.

Verify TOOLS.md is NOT referenced in any rendering code:
1. Check `src/cli/canonical.ts` — `readCanonicalInstructions` only reads AGENTS.md
2. Check `src/adapters/` — no adapter references TOOLS.md
3. Check `src/cli/push.ts` — instructions pipeline processes AGENTS.md only

TOOL-03 is satisfied by architecture: the instruction rendering pipeline only reads `configs/instructions/AGENTS.md`. TOOLS.md is simply never referenced by any sync code.
  </action>
  <verify>
- AGENTS.md ## Tools section is slim (~10 lines): `sed -n '/^## Tools/,/^## /p' configs/instructions/AGENTS.md | wc -l` < 15
- References TOOLS.md: `grep "TOOLS.md" configs/instructions/AGENTS.md`
- TOOLS.md not in rendering pipeline: `rg "TOOLS" src/ --type ts` returns 0 matches
- Tests pass: `bun test` (no instruction rendering changes)
  </verify>
  <done>AGENTS.md ## Tools section references TOOLS.md by absolute path; TOOLS.md is not in any rendering pipeline (TOOL-03 by architecture)</done>
</task>

</tasks>

<verification>
- `configs/instructions/TOOLS.md` exists with tool-use documentation
- AGENTS.md `## Tools` section contains `~/Repos/acsync/configs/instructions/TOOLS.md`
- `rg "TOOLS" src/ --type ts` returns no matches (not in rendering pipeline)
- `bun test` passes (no regressions)
</verification>

<success_criteria>
- TOOL-01: TOOLS.md exists at `configs/instructions/TOOLS.md` with tool documentation
- TOOL-02: AGENTS.md `## Tools` references TOOLS.md by absolute path
- TOOL-03: TOOLS.md not rendered/synced — verified by grep of rendering pipeline
</success_criteria>

<output>
After completion, create `.planning/phases/08-tools-repo-rename/08-01-SUMMARY.md`
</output>
